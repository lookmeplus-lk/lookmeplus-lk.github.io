<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>热点切换</title>
</head>
<body>
  <h1>每日热点（知乎 & CSDN）</h1>
  <label>选择日期：
    <input type="date" id="datePicker" max="{{today}}" value="{{today}}">
  </label>
  <div id="newsContainer">
    <!-- 动态嵌入内容 -->
  </div>
<script>
function loadNews(date) {
  const container = document.getElementById('newsContainer');
  fetch(date + '.html')
    .then(r => {
      if (!r.ok) throw '无内容';
      return r.text();
    })
    .then(html => container.innerHTML = html)
    .catch(_ => container.innerHTML = '<p>暂无该日期内容。</p>');
}

document.getElementById('datePicker').addEventListener('change', e => {
  loadNews(e.target.value);
});

// 初始化
const today = new Date().toISOString().slice(0,10);
document.getElementById('datePicker').max = today;
loadNews(today);
</script>
</body>
</html>
